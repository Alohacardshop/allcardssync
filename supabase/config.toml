
project_id = "dmpoandoydaqxhzdjnmk"

# SECURITY: All functions now require JWT authentication by default
# Only public functions like health checks remain without JWT

[functions.catalog-health]
verify_jwt = false

[functions.justtcg-health]  
verify_jwt = false

# Premium API monitoring (public for dashboard widgets)
[functions.api-usage-monitor]
verify_jwt = false

# PSA scraping function (public - scrapes public pages)
[functions.psa-scrape]
verify_jwt = false

# PSA scraping function v2 (public - Firecrawl-only with strict CORS)
[functions.psa-scrape-v2]
verify_jwt = false

# CGC card lookup (temporarily public for debugging)
[functions.cgc-lookup]
verify_jwt = false

# Shopify webhook handler (public - validates HMAC signature)
[functions.shopify-webhook]
verify_jwt = false

# Shopify webhook test function (public - for development)
[functions.shopify-webhook-test]
verify_jwt = false

# TCG card search with pricing (requires authentication)
[functions.tcg-card-search]
verify_jwt = true

# All other critical functions require JWT authentication and admin role verification
# These functions are secured by requiring authentication and admin role checks in code:
# - bootstrap-admin (special case for first admin setup)
# - daily-set-discovery
# - get-printnode-key  
# - get-system-setting
# - render-label
# - roles-admin
# - set-system-setting
# - shopify-config-check
# - shopify-inventory-sync
# - shopify-locations
# - shopify-pull-products-by-tags
# - shopify-remove-or-zero
# - user-assignment-admin
